--https://www.sqlrelease.com/import-csv-file-into-sql-server-using-t-sql-query
--Code to import csv, must be done in sqlite3 command line I believe
-- Trying to bash script this...
/*
.open .../marcello/sqlite-tools/splitwiseDB.db
.mode csv
.import /marcello/splitwiseAPI/splitwise_export_trxn import_trxn
.import /marcello/splitwiseAPI/splitwise_export_users import_users
.read ./Splitwise_SQL_files/updateMaster2 --this file
*/
--Inserts novel expenseID's into master table
INSERT INTO testMaster2 (expenseID, description, cost, 
    txnDate,category,groupName, updatedAt, deletedAt
    )
SELECT * FROM import_trxn
WHERE expenseID NOT IN (SELECT expenseID FROM testMaster2);
--SELECT * FROM testMaster2;

INSERT INTO testUsers (UserBalance, UserName, expenseID)
SELECT * FROM import_users
WHERE expenseID NOT IN (SELECT expenseID FROM testUsers);
--SELECT * FROM testUsers ORDER BY expenseID DESC;

--DON"T DROP TABLES YET: DROP TABLE import_trxn, import_users